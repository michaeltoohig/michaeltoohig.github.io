<!DOCTYPE html><html class=2xl:text-[20px] dir=ltr lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Migrating to Astro — Michael Toohig</title><meta content="Detailing the process I experienced migrating this site from Vitepress to Astro and how I got to `yet another framework`.
" name=description><meta content=index,follow name=robots><link href=https://michaeltoohig.com/blog/migrating-to-astro rel=canonical><meta content="Migrating to Astro" property=og:title><meta content="Detailing the process I experienced migrating this site from Vitepress to Astro and how I got to `yet another framework`.
" property=og:description><meta content=https://michaeltoohig.com/blog/migrating-to-astro property=og:url><meta content=article property=og:type><meta content=https://michaeltoohig.com/_astro/migrating-to-astro.C6pcfyEX.jpg property=og:image><meta content="Migrating to Astro" property=og:image:alt><meta content=summary_large_image name=twitter:card><style is:global>:root{--aw-font-sans:'InterVariable';--aw-font-serif:var(--aw-font-sans);--aw-font-heading:var(--aw-font-sans);--aw-color-primary:#E37D3A;--aw-color-secondary:rgb(30 58 138);--aw-color-accent:rgb(109 40 217);--aw-color-text-page:rgb(17 24 39);--aw-color-text-muted:rgb(75 85 99);--aw-color-bg-page:rgb(255 255 255)}</style><meta content=orcPxI47GSa-cRvY11tUe6iGg2IO_RPvnA1q95iEM3M name=google-site-verification><link href=/icons/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/icons/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/icons/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/sitemap-index.xml rel=sitemap><link href=/_astro/about.DalL60B6.css rel=stylesheet><style>.counter{display:grid;font-size:2em;grid-template-columns:repeat(3,minmax(0,1fr));margin-top:2em;place-items:center}.counter-message{text-align:center}</style><style>.link-preview[data-astro-cid-ztfdmrby]{--lp-width:var(--link-preview-width, 30em);--lp-pad-x:var(--link-preview-padding-inline, 0);--lp-pad-y:var(--link-preview-padding-block, .5em);--lp-corners:var(--link-preview-corners, 0);--lp-desc-lines:var(--link-preview-description-lines, 1);position:relative;width:var(--lp-width);max-width:100%;display:flex;flex-direction:column-reverse;border-radius:var(--lp-corners)}.link-preview[data-astro-cid-ztfdmrby] [data-astro-cid-ztfdmrby]{margin:0!important}.link-preview__content[data-astro-cid-ztfdmrby]{display:flex;flex-direction:column;padding:var(--lp-pad-y) var(--lp-pad-x)}.link-preview[data-astro-cid-ztfdmrby] header[data-astro-cid-ztfdmrby]{display:flex;flex-direction:column-reverse}.link-preview__description[data-astro-cid-ztfdmrby]{display:-webkit-box;-webkit-line-clamp:var(--lp-desc-lines);-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.link-preview[data-astro-cid-ztfdmrby]:not(.link-preview--has-video) a[data-astro-cid-ztfdmrby]:after{content:"";position:absolute;inset:0}.link-preview[data-astro-cid-ztfdmrby] img[data-astro-cid-ztfdmrby],.link-preview[data-astro-cid-ztfdmrby] video[data-astro-cid-ztfdmrby]{aspect-ratio:1200/630;width:100%;height:auto;-o-object-fit:cover;object-fit:cover;border-top-left-radius:var(--lp-corners);border-top-right-radius:var(--lp-corners)}</style><style>.twitter-tweet:not(.twitter-tweet-rendered){padding:var(--tc-padding,1em);border:1px solid var(--tc-border-color,#cfd9de)}.twitter-tweet:not(.twitter-tweet-rendered)>:first-child{margin-top:0}.twitter-tweet:not(.twitter-tweet-rendered)>:last-child{margin-bottom:0}.twitter-tweet.twitter-tweet-rendered{color-scheme:normal}</style><style>lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}lite-vimeo>.ltv-playbtn{content:"";position:absolute;inset:0;width:100%;background:0 0;outline:0;border:0;cursor:pointer}lite-vimeo>.ltv-playbtn:before{width:6.5em;height:4em;background:#172322bf;opacity:.8;border-radius:.25rem;transition:all .2s cubic-bezier(0,0,.2,1)}lite-vimeo>.ltv-playbtn:focus:before{outline:auto}lite-vimeo:hover>.ltv-playbtn:before{background-color:#00adef;background-color:var(--ltv-color,#00adef);opacity:1}lite-vimeo>.ltv-playbtn:after{border-style:solid;border-width:1em 0 1em 1.7em;border-color:transparent transparent transparent #fff}lite-vimeo>.ltv-playbtn:after,lite-vimeo>.ltv-playbtn:before{content:"";position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{cursor:unset;opacity:0;pointer-events:none}</style><style>lite-youtube>iframe{all:unset!important;width:100%!important;height:100%!important;position:absolute!important;inset:0!important;border:0!important}</style><style>lite-youtube{background-color:#000;position:relative;display:block;contain:content;background-position:center center;background-size:cover;cursor:pointer;max-width:720px}lite-youtube:before{content:attr(data-title);display:block;position:absolute;top:0;background-image:linear-gradient(180deg,#000000ab,#0000008a 14%,#00000026 54%,#0000000d 72%,#0000 94%);height:99px;width:100%;font-family:YouTube Noto,Roboto,Arial,Helvetica,sans-serif;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);font-size:18px;padding:25px 20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box}lite-youtube:hover:before{color:#fff}lite-youtube:after{content:"";display:block;padding-bottom:56.25%}lite-youtube>iframe{width:100%;height:100%;position:absolute;top:0;left:0;border:0}lite-youtube>.lty-playbtn{display:block;width:100%;height:100%;background:no-repeat center/68px 48px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');position:absolute;cursor:pointer;z-index:1;filter:grayscale(100%);transition:filter .1s cubic-bezier(0,0,.2,1);border:0}lite-youtube .lty-playbtn:focus,lite-youtube:hover>.lty-playbtn{filter:none}lite-youtube.lyt-activated{cursor:unset}lite-youtube.lyt-activated:before,lite-youtube.lyt-activated>.lty-playbtn{opacity:0;pointer-events:none}.lyt-visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}</style><script src=/_astro/Vimeo.astro_astro_type_script_index_0_lang.CgRsrQuG.js type=module></script><script src=/_astro/YouTube.astro_astro_type_script_index_0_lang.Dkyb9mLy.js type=module></script></head><body class="dark:bg-dark antialiased bg-light dark:text-slate-300 text-page tracking-tight"><div class=block></div><header class="mx-auto w-full duration-100 ease-in flex-none relative top-0 transition-all z-40" id=header><div class="mx-auto max-w-7xl md:flex md:justify-between md:px-4 md:py-3.5 px-3 py-3 w-full"><div class="flex justify-between"><a href=/ class="items-center flex"><span class="ml-2 dark:text-white font-bold md:text-xl self-center text-2xl text-gray-900 whitespace-nowrap">Michael Toohig</span></a><div class="items-center flex md:hidden"><button class="items-center dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex p-2.5 rounded-lg text-sm dark:hover:bg-gray-700 text-muted" aria-label="Toggle between Dark and Light mode" type=button data-aw-toggle-color-scheme><svg class="h-6 w-6" data-icon=ph:sun height=1em width=1em><symbol id=ai:ph:sun viewBox="0 0 256 256"><path d="M120 40V16a8 8 0 0 1 16 0v24a8 8 0 0 1-16 0m72 88a64 64 0 1 1-64-64a64.07 64.07 0 0 1 64 64m-16 0a48 48 0 1 0-48 48a48.05 48.05 0 0 0 48-48M58.34 69.66a8 8 0 0 0 11.32-11.32l-16-16a8 8 0 0 0-11.32 11.32Zm0 116.68l-16 16a8 8 0 0 0 11.32 11.32l16-16a8 8 0 0 0-11.32-11.32M192 72a8 8 0 0 0 5.66-2.34l16-16a8 8 0 0 0-11.32-11.32l-16 16A8 8 0 0 0 192 72m5.66 114.34a8 8 0 0 0-11.32 11.32l16 16a8 8 0 0 0 11.32-11.32ZM48 128a8 8 0 0 0-8-8H16a8 8 0 0 0 0 16h24a8 8 0 0 0 8-8m80 80a8 8 0 0 0-8 8v24a8 8 0 0 0 16 0v-24a8 8 0 0 0-8-8m112-88h-24a8 8 0 0 0 0 16h24a8 8 0 0 0 0-16" fill=currentColor /></symbol><use href=#ai:ph:sun></use></svg></button> <button class="items-center transition dark:focus:ring-gray-700 dark:hover:bg-gray-800 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex ml-1.5 p-2.5 rounded-lg text-gray-500 text-sm" aria-label="Toggle Menu" type=button data-aw-toggle-menu><svg class="h-6 w-6" data-icon=ph:dots-three-vertical height=1em width=1em><symbol id=ai:ph:dots-three-vertical viewBox="0 0 256 256"><path d="M140 128a12 12 0 1 1-12-12a12 12 0 0 1 12 12m-12-56a12 12 0 1 0-12-12a12 12 0 0 0 12 12m0 112a12 12 0 1 0 12 12a12 12 0 0 0-12-12" fill=currentColor /></symbol><use href=#ai:ph:dots-three-vertical></use></svg></button></div></div><nav aria-label="Main navigation" class="items-center hidden md:flex dark:text-slate-200 h-[calc(100vh-72px)] md:h-auto md:mx-5 md:overflow-visible md:w-auto overflow-y-auto w-full"><ul class="flex flex-col md:flex-row md:pt-0 md:self-center md:text-base md:w-auto pt-8 text-xl w-full"><li class=""><a href=/about class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-primary px-4 py-3 transition">About</a></li><li class=""><a href=/projects class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-primary px-4 py-3 transition">Projects</a></li><li class=""><a href=/blog class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-primary px-4 py-3 transition">Blog</a></li><li class=""><a href=/blurbs class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-primary px-4 py-3 transition">Blurbs</a></li><li class=""><a href=/links class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-primary px-4 py-3 transition">Links</a></li></ul></nav><div class="items-center flex md:mb-0 md:self-center"><div class="items-center hidden md:flex"><button class="items-center dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex p-2.5 rounded-lg text-sm dark:hover:bg-gray-700 text-muted" aria-label="Toggle between Dark and Light mode" type=button data-aw-toggle-color-scheme><svg class="h-5 w-5" data-icon=ph:sun height=1em width=1em viewBox="0 0 256 256"><use href=#ai:ph:sun></use></svg></button></div></div></div></header><main><section class="mx-auto lg:py-20 py-8 sm:py-16"><article><header class=""><div class="flex px-4 flex-col justify-between max-w-3xl mb-2 mt-0 mx-auto sm:flex-row sm:items-center sm:px-6"><p><svg class="dark:text-gray-400 -mt-0.5 h-4 inline-block w-4" data-icon=ph:timer height=1em width=1em><symbol id=ai:ph:timer viewBox="0 0 256 256"><path d="M128 40a96 96 0 1 0 96 96a96.11 96.11 0 0 0-96-96m0 176a80 80 0 1 1 80-80a80.09 80.09 0 0 1-80 80m45.66-125.66a8 8 0 0 1 0 11.32l-40 40a8 8 0 0 1-11.32-11.32l40-40a8 8 0 0 1 11.32 0M96 16a8 8 0 0 1 8-8h48a8 8 0 0 1 0 16h-48a8 8 0 0 1-8-8" fill=currentColor /></symbol><use href=#ai:ph:timer></use></svg> <time datetime="Fri Jul 29 2022 20:00:00 GMT-0400 (Eastern Daylight Time)">Jul 30, 2022</time> · 10 min read</p></div><h1 class="mx-auto sm:px-6 max-w-3xl px-4 font-bold font-heading leading-tighter md:text-5xl text-4xl tracking-tighter">Migrating to Astro</h1><p class="mx-auto sm:px-6 max-w-3xl px-4 dark:text-slate-400 mb-8 md:text-2xl mt-4 text-justify text-muted text-xl"></p><img alt="Detailing the process I experienced migrating this site from Vitepress to Astro and how I got to `yet another framework`.
" aspectRatio=1.7777777777777777 class="mx-auto bg-gray-400 dark:bg-slate-700 dark:lg:shadow-orange-200 lg:max-w-6xl lg:ring-2 lg:shadow-lg max-w-full mb-6 ring-none ring-opacity-50 ring-orange-500 sm:rounded-md" decoding=async height=506 loading=eager sizes="(max-width: 900px) 400px, 900px" src=/_astro/migrating-to-astro.C6pcfyEX_1DWnHT.webp srcset="/_astro/migrating-to-astro.C6pcfyEX_1DWnHT.webp 400w, /_astro/migrating-to-astro.C6pcfyEX_1DWnHT.webp 900w" width=900></header><div class="mx-auto sm:px-6 max-w-3xl px-6 mt-8 dark:prose-a:text-orange-400 dark:prose-headings:text-slate-300 dark:prose-invert lg:prose-xl prose prose-a:text-orange-600 prose-headings:font-bold prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-img:rounded-md prose-img:shadow-lg prose-lg prose-li:my-0 prose-md prose-table:max-w-10 prose-table:overflow-x-scroll prose-table:table-auto"><h2 id=foreward>Foreward</h2><blockquote><p>This post may be a bit less structured as I am still technically migrating to Astro after publishing this and I am still finding bugs. I am just recording my thoughts for now and may clean this up down the road.</p></blockquote><p>I migrated my personal website to Astro while it was still in beta and I have upgraded through release-candidates all the way to official 1.x.x releases and still find issues being created with updates. Is Astro ever going to stablize?</p><h2 id=so-what-is-astro>So What is Astro?</h2><p>Astro is a relatively new (maybe old in Javascript years) framework for building <abbr title="Server Side Rendered">SSR</abbr> or <abbr title="Static Site Generater">SSG</abbr> websites. Astro as a framework is unique that you can <em>Bring Your Own Framework</em> which I haven’t heard of elsewhere. The <abbr title="Bring Your Own Framework">BYOF</abbr> feature meant I do get to learn a new hip thing that may along the way solve a problem I am having but also lets me use Vue.js which I am already familiar with. As I read someone else put it, it’s nice that Astro appears to keep itself focused on the static asset generation and makes itself flexible for the JS framework to change with the popularity tides down the road. Of course, unless a newer, <em>better</em> meta-framework comes along!</p><blockquote><p>Disclaimer: I don’t enjoy the churn in the frontend ecosystem but I want to stay relevant and fresh with new skills so I decided to give Astro a shot. Plus, as long as I would be learning something new, I might as well learn something currently <em>hip and cutting-edge</em> so I get that sweet <abbr title="Resume Driven Development">RRD</abbr> credit.</p></blockquote><p>Astro also supports dynamic content on the page and hydrating interactive components on the client side but all that sounds like unnecessary bloat for my usecase.</p><h3 id=astro-hype>Astro Hype</h3><p>When I decided to switch away from Vitepress I did some searching for Vue.js based SSG. I really didn’t want to have to pick up a new Javascript framework. I thought I wanted to use <a href=https://gridsome.org/ >Gridsome</a> because it uses Vue 3, Vite and most importantly it would be more flexible compared to Vitepress. But, I found after a bit of research on the Github repo that the project has been neglected and users on other forums were lamenting the death of the project.</p><p>I then found many blogs mentioning Astro. I assume this is because it is adaptable to many UI frameworks so it has a larger pool of potential users to attract and it is the first (that I know of) meta-framework :rolls-eyes: which attracts more to the bandwagon. Plus, Astro has a large number of sponsors which may have contributed to its speedy growth and popularity so early in its development.</p><blockquote><p>I also noticed the quality of their website and documentation and believed at the time the framework was mature and stable. The number of recognizable companies listed on their homepage as sponsers also didn’t help me see Astro as a project still in beta.</p></blockquote><h3 id=astro-documentation>Astro Documentation</h3><p>Astro’s <a href=https://astro.new/ >documentation</a> is quite detailed and most of anything I wanted to do with Astro was easily found there. That was until the migration to version 1.0.0 began and their framework started changing too rapidly to keep the documentation up-to-date; but that I will say more about later.</p><p>I will say though, the docs only caused me difficulty early on because I was fixated on using Vue.js as part of the BYOF feature and most of their docs use various frameworks or their own <code>.astro</code> files for examples so I had some trouble looking past that to adapt their examples to what I wanted. The example repos on their Github really clarified things in my mind then later I ended up finding their own <code>.astro</code> files to be pretty practical, so now I use them quite a bit. It really drives home their tagline, “Use Less Javascript”.</p><h2 id=my-plan>My Plan</h2><p>I want to have a <em><strong>simple</strong></em> SSG personal website that allows me to write blog posts and pages for portfolio content via markdown while allowing some flexability with scripting so I can be sure the home page is always updated with the latest items from each category.</p><p>The output should be HTML so I can host for free via Github. And if the output is static HTML then I hope the final result is a responsive, minimal and no frills website. But knowing me, as this goes on I may look for ways to add more complications in the future for the sake of exploring.</p><blockquote><p><em>simple</em> I said, lol, I’m using a new wave, meta-framework with a mix of astro, markdown, vue, and who knows what else to compile static HTML. I really considered just writing markdown and HTML by hand with something as simple as <code>Jinja</code> for templating but that’s not RDD!</p></blockquote><h3 id=first-challenge---blog-posts-and-portfolio-posts>First Challenge - Blog Posts And Portfolio Posts</h3><p>As I said earlier my first priority was to migrate to a system that allows me to be more flexible with my website layout and features. Foremost, I wish to have separate sections for blog posts and portfolio posts and combine them together on the home page with ease.</p><p>So I began with the default <code>Portfolio</code> template provided by Astro which you can find <a href="https://github.com/withastro/astro/tree/latest/examples/portfolio?on=github">here</a>.</p><p>Immediately I added a sibling directory <code>post</code> next to the already existing directory <code>project</code>. In there I added this file you are reading now. I found in the demo a page that lists all portfolio projects titled <code>projects.astro</code> and copied it to create <code>posts.astro</code> and inside there I changed the logic to fetch markdown files from the <code>post</code> directory and added a <code>PostPreview</code> component copied from the already existing <code>PortfolioPreview</code> component. Lastly, I simply added a nav item to the <code>Nav</code> component directed to the new <code>posts.astro</code> and I had acheived what I was looking for. A listing of portfolio pages on the URL <code>/projects</code> and a listing of blog posts on the URL <code>/posts</code>.</p><p>By attaching a <code>project</code> tag to the frontmatter section of each post and project markdown file I quickly had a way to find posts that are related to a project.</p><figure data-rehype-pretty-code-figure=""><pre class="(Straight) (Straight) - - Remedy Remedy Bright Dark" data-language=javascript data-theme="Remedy - Dark (Straight) Remedy - Bright (Straight)" style=--shiki-dark:#F9E7C4;--shiki-light:#594318;--shiki-dark-bg:#403A35;--shiki-light-bg:#FFF9EC tabindex=0><code data-language=javascript data-theme="Remedy - Dark (Straight) Remedy - Bright (Straight)" style=display:grid><span data-line=""><span style=--shiki-dark:#B294BB;--shiki-light:#85678F>const</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318> posts </span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F>=</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72> (</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F>await</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318> Astro</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D>glob</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>(</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&#39;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>/src/pages/post/**/*.mdx</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&#39;</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>))</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>	.</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D>filter</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>(({</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318> frontmatter </span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>})</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F> =&gt;</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F> !</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>frontmatter</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>draft </span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F>&amp;&amp;</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318> frontmatter</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>project </span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F>===</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318> content</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>project</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>)</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>	.</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D>sort</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>((</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>a</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>,</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318> b</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>)</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F> =&gt;</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F> new</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D> Date</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>(</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>b</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>frontmatter</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>publishDate</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>).</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D>valueOf</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>()</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F> -</span><span style=--shiki-dark:#B294BB;--shiki-light:#85678F> new</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D> Date</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>(</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>a</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>frontmatter</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>.</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>publishDate</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>).</span><span style=--shiki-dark:#81A2BE;--shiki-light:#5F819D>valueOf</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>());</span></span></code></pre></figure><p>Then at the end of the <code>portfolio.astro</code> layout I loop through the posts and reuse the same <code>PostPreview</code> Vue component from the home page.</p><figure data-rehype-pretty-code-figure=""><pre class="(Straight) (Straight) - - Remedy Remedy Bright Dark" data-language=html data-theme="Remedy - Dark (Straight) Remedy - Bright (Straight)" style=--shiki-dark:#F9E7C4;--shiki-light:#594318;--shiki-dark-bg:#403A35;--shiki-light-bg:#FFF9EC tabindex=0><code data-language=html data-theme="Remedy - Dark (Straight) Remedy - Bright (Straight)" style=display:grid><span data-line=""><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>{posts.length &gt; 0 &amp;&amp;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>  &lt;</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>div</span><span style=--shiki-dark:#CC6666;--shiki-light:#CC6666> class</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>=</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>mt-12</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>    &lt;</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>Wrapper</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>      &lt;</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>h2</span><span style=--shiki-dark:#CC6666;--shiki-light:#CC6666> class</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>=</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>font-bold text-3xl my-8</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>Related Posts</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&lt;/</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>h2</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>      &lt;</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>div</span><span style=--shiki-dark:#CC6666;--shiki-light:#CC6666> class</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>=</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>grid grid-cols-1 md:grid-cols-2 gap-12</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>        {posts.map((post) =&gt; </span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&lt;</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>PostPreview</span><span style=--shiki-dark:#CC6666;--shiki-light:#CC6666> post</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>=</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>{post}</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72> /&gt;</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>)}</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>      &lt;/</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>div</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>    &lt;/</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>Wrapper</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>  &lt;/</span><span style=--shiki-dark:#DE935F;--shiki-light:#DE935F>div</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&gt;</span></span>
<span data-line=""><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>}</span></span></code></pre></figure><p>Customization of this sort was my real goal and it ended up being easier than I had hoped.</p><h3 id=second-challenge---vue-component-inside-a-markdown-file>Second Challenge - Vue component inside a Markdown file</h3><p>I wanted to test Astro’s ability to add some dynamic content within the markdown content so I can share demostrations or examples in my posts or perhaps some other usecase down the road.</p><p>Let’s add <a href=https://github.com/withastro/astro/blob/latest/examples/framework-vue/src/components/Counter.vue>this</a> <code>Counter.vue</code> from the documentation’s examples.</p><p>To add components to Markdown files you add a <code>setup</code> key to the frontmatter object of the markdown file. This makes the solution easy but at first feels like a footgun to have Javascript logic in this <code>yaml</code> key.</p><blockquote><p>As of Astro 1.0.0 release and the migration to <code>mdx</code> over plain markdown the <code>setup</code> key has been removed. Instead Javascript logic can be written directly in the document itself.</p></blockquote><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).visible=(t,e,r)=>{let n=async()=>{await(await t())()},s="object"==typeof e.value?e.value:void 0,i={rootMargin:null==s?void 0:s.rootMargin},o=new IntersectionObserver((t=>{for(let e of t)if(e.isIntersecting){o.disconnect(),n();break}}),i);for(let t of r.children)o.observe(t)},window.dispatchEvent(new Event("astro:visible")),(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map((([t,e])=>[t,r(e)])));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",(async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))})),e(this,"unmount",(()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))}))}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver((()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())}));e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e]((async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate}),t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,(()=>this.start()),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island await-children="" client=visible component-export=default component-url=/_astro/Counter.y5LiGQAY.js opts={&quot;name&quot;:{&quot;__name&quot;:&quot;Counter&quot;},&quot;value&quot;:true} prefix=v0 props={} renderer-url=/_astro/client.YkHzsOh4.js ssr="" uid=9AxAk><!--[--><div class=counter><button>-</button><pre>0</pre><button>+</button></div><div class=counter-message><!--[--><astro-slot><p>Look ma I got Vue.js in my Markdown in my Astro.</p></astro-slot><!--]--></div><!--]--><!--astro:end--></astro-island><p>Hey, but it works.</p><h3 id=third-challenge---vue-ui-framework-for-layout-and-components>Third Challenge - Vue UI Framework For Layout and Components</h3><p>I wanted to use a UI Framework I’m already familiar with such as <a href=https://vuetifyjs.com>Vuetify</a> so I can, again, use something I know to help keep things simple. I’m not the greatest with CSS nor do I want to play around with CSS too much but I do want the site to look <em>good enough</em> so I think a UI framework will fit that requirement.</p><p>This challenge became impossible after realizing Astro abstracts Vite and the Vue instance so these packages that hook into either one of those can not be setup without an Astro plugin that would expose lower level access to Astro’s internals.</p><p>Even though I didn’t want to muck around with CSS too much I ended up taking the opportunity to try <a href=https://tailwindcss.com>Tailwindcss</a> and play around with styling on my own. Tailwindcss is one of those packages that wouldn’t work normally with Astro for the same reason Vuetify won’t work but, the Astro team built a plugin to make it work (well mostly).</p><h3 id=fourth-challenge---aliases>Fourth Challenge - Aliases</h3><p>Quickly I found that I was missing aliases from my usual Vue.js and Webpack based development. It was easy to find <a href=https://docs.astro.build/en/guides/aliases/ >in the docs</a> how to make aliases even though it is technically a Vite feature and not related to Astro at all. So no longer do I type <code>../../components/whatever.vue</code> but instead <code>@components/whatever.vue</code>. Nice little improvements like this make a big difference over time.</p><p>So the solution is to add a few alias paths to <code>tsconfig.json</code> then aliases worked in both <code>.astro</code> and <code>.vue</code> components.</p><figure data-rehype-pretty-code-figure=""><pre class="(Straight) (Straight) - - Remedy Remedy Bright Dark" data-language=json data-theme="Remedy - Dark (Straight) Remedy - Bright (Straight)" style=--shiki-dark:#F9E7C4;--shiki-light:#594318;--shiki-dark-bg:#403A35;--shiki-light-bg:#FFF9EC tabindex=0><code data-language=json data-theme="Remedy - Dark (Straight) Remedy - Bright (Straight)" style=display:grid><span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>baseUrl</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>: </span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>.</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>,</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>paths</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>: </span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>{</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>  &quot;</span><span style=--shiki-dark:#CC6666;--shiki-light:#CC6666>@components/*</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>:</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72> [</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>    &quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>src/components/*</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>  ],</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>  &quot;</span><span style=--shiki-dark:#CC6666;--shiki-light:#CC6666>@layouts/*</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>:</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72> [</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>    &quot;</span><span style=--shiki-dark:#B5BD68;--shiki-light:#8C9440>src/layouts/*</span><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>&quot;</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>  ]</span></span>
<span data-line=""><span style=--shiki-dark:#81755D;--shiki-light:#B19C72>}</span><span style=--shiki-dark:#F9E7C4;--shiki-light:#594318>,</span></span></code></pre></figure><h2 id=issues>Issues</h2><ul><li><h4 id=changing-api>Changing API</h4></li></ul><p>The beta to 1.0.0 release has introduced some issues that temporarily broke this website. Also, the project threw out markdown and replaced it with markdownx. Same for code snippet handling.</p><p>At this point I no longer know the proper way to display code snippets with the formatting I had set up while in beta since the documentation is not yet up to date on this.</p><ul><li><h4 id=hot-module-reload-flakiness>Hot Module Reload Flakiness</h4></li></ul><p>Occasionally my only option to be sure my code was taking effect was to restart the dev server. There are also some issues that can guarantee you will need to restart the dev server such as accidently importing a component with the the wrong extension. And editing the astro config file requires a restart of the dev server which is not that bad or suprising.</p><ul><li><h4 id=tailwindcss-or-similar-vite-based-plugins>Tailwindcss or similar Vite based plugins</h4></li></ul><p>Any UI framework or package that integrates directly with the Vue app instance is not going to work as it is abstracted away behind Astro. A plugin could resolve that I believe. Astro also abstracts Vite a bit so Vite based plugins do not work well with Astro either. Tailwindcss being one of those packages has an official Tailwindcss plugin but it doesn’t come without its own issues.</p><blockquote><p>Tailwindcss and other comparable Vite plugin based packages are a source of trouble for the Astro developers as I found in their Github issues page.</p></blockquote><p>The gist of the problem that I could gather from <a href=https://github.com/withastro/astro/issues/1971>here</a> and <a href=https://github.com/unocss/unocss/issues/105>here</a> seem to be UnoCSS, Windicss, etc are Vite plugins which require being built to work. Astro on the other hand never builds <code>.astro</code> files and insteads injects the default css file from these frameworks into the <code>&lt;head&gt;</code> which means it loads the css via request once then does not have HMR capability. Clearly, the meta-framework is running into issues when popular packages make assumptions about their intended environment that contradicts what Astro is doing under the hood. Work arounds have been made such as <a href=https://github.com/withastro/astro/issues/3291>this</a> but I can’t help but think between this and Astro developers’ discussions to fix these sort of issues point to a fundemental issue which will only lead to more issues or complexity in the future and Astro may end up with more bespoke configuration options that contradict their “Write Less Javascript” tag line.</p><h2 id=positives>Positives</h2><ul><li><h4 id=vscode-extension-works-very-well>VSCode extension works very well</h4></li><li><h4 id=hmr-generally-works-and-is-fast-until-tailwind-was-added>HMR generally works and is fast (until tailwind was added)</h4></li></ul><p>Although with the latest releases this is improving.</p><ul><li><h4 id=great-docs-and-demos>Great docs and demos</h4></li><li><h4 id=straightforward-and-gives-enough-freedom>Straightforward and gives enough freedom</h4></li></ul><h2 id=final-thoughts>Final Thoughts</h2><p>Astro is relatively easy to get going and I enjoy the mix of Markdown and Vue.js that I can mix as I please. The project file structure just feels familiar and easy to use compared to some of the big players in the SSG space like Hugo and Gatsby. Astro’s API is changing though so I will need to keep up with in as it exits beta but I have good hopes that it will serve me well for this personal website.</p></div><div class="flex flex-col justify-between max-w-3xl mx-auto sm:flex-row sm:px-6 mt-8 px-6"><ul class=mr-5><li class="inline-block bg-gray-100 dark:bg-slate-700 font-medium lowercase mb-2 mr-2 px-2 py-0.5">javascript</li><li class="inline-block bg-gray-100 dark:bg-slate-700 font-medium lowercase mb-2 mr-2 px-2 py-0.5">vue</li></ul><div class="align-middle dark:text-slate-600 mt-5 sm:mt-1 text-gray-500"><span class="text-gray-400 align-super dark:text-slate-400 font-bold">Share:</span> <button class=ml-2 data-aw-social-share=twitter data-aw-url=https://michaeltoohig.com/blog/migrating-to-astro title="Twitter Share" data-aw-text="Migrating to Astro"><svg class="h-6 w-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon=ri:twitter-fill height=1em width=1em><symbol id=ai:ri:twitter-fill viewBox="0 0 24 24"><path d="M22.213 5.656a8.4 8.4 0 0 1-2.402.658A4.2 4.2 0 0 0 21.649 4c-.82.488-1.719.83-2.655 1.015a4.182 4.182 0 0 0-7.126 3.814a11.87 11.87 0 0 1-8.621-4.37a4.17 4.17 0 0 0-.566 2.103c0 1.45.739 2.731 1.86 3.481a4.2 4.2 0 0 1-1.894-.523v.051a4.185 4.185 0 0 0 3.355 4.102a4.2 4.2 0 0 1-1.89.072A4.185 4.185 0 0 0 8.02 16.65a8.4 8.4 0 0 1-6.192 1.732a11.83 11.83 0 0 0 6.41 1.88c7.694 0 11.9-6.373 11.9-11.9q0-.271-.012-.541a8.5 8.5 0 0 0 2.086-2.164" fill=currentColor /></symbol><use href=#ai:ri:twitter-fill></use></svg></button> <button class=ml-2 data-aw-social-share=facebook data-aw-url=https://michaeltoohig.com/blog/migrating-to-astro title="Facebook Share"><svg class="h-6 w-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon=ri:facebook-box-fill height=1em width=1em><symbol id=ai:ri:facebook-box-fill viewBox="0 0 24 24"><path d="M15.402 21v-6.966h2.333l.349-2.708h-2.682V9.599c0-.784.218-1.319 1.342-1.319h1.434V5.857a19 19 0 0 0-2.09-.107c-2.067 0-3.482 1.262-3.482 3.58v1.996h-2.338v2.708h2.338V21H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1z" fill=currentColor /></symbol><use href=#ai:ri:facebook-box-fill></use></svg></button> <button class=ml-2 data-aw-social-share=linkedin data-aw-url=https://michaeltoohig.com/blog/migrating-to-astro title="Linkedin Share" data-aw-text="Migrating to Astro"><svg class="h-6 w-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon=ri:linkedin-box-fill height=1em width=1em><symbol id=ai:ri:linkedin-box-fill viewBox="0 0 24 24"><path d="M18.336 18.339h-2.665v-4.177c0-.996-.02-2.278-1.39-2.278c-1.389 0-1.601 1.084-1.601 2.205v4.25h-2.666V9.75h2.56v1.17h.035c.358-.674 1.228-1.387 2.528-1.387c2.7 0 3.2 1.778 3.2 4.092v4.714M7.004 8.575a1.546 1.546 0 0 1-1.548-1.549a1.548 1.548 0 1 1 1.547 1.549m1.336 9.764H5.667V9.75H8.34zM19.67 3H4.33C3.594 3 3 3.58 3 4.297v15.406C3 20.42 3.594 21 4.328 21h15.339C20.4 21 21 20.42 21 19.703V4.297C21 3.581 20.4 3 19.666 3z" fill=currentColor /></symbol><use href=#ai:ri:linkedin-box-fill></use></svg></button> <button class=ml-2 data-aw-social-share=whatsapp data-aw-url=https://michaeltoohig.com/blog/migrating-to-astro title="Whatsapp Share" data-aw-text="Migrating to Astro"><svg class="h-6 w-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon=ri:whatsapp-fill height=1em width=1em><symbol id=ai:ri:whatsapp-fill viewBox="0 0 24 24"><path d="M12.001 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.95 9.95 0 0 1-5.03-1.355L2.005 22l1.352-4.968A9.95 9.95 0 0 1 2.001 12c0-5.523 4.477-10 10-10M8.593 7.3l-.2.008a1 1 0 0 0-.372.1a1.3 1.3 0 0 0-.294.228c-.12.113-.188.211-.261.306A2.73 2.73 0 0 0 6.9 9.62c.002.49.13.967.33 1.413c.409.902 1.082 1.857 1.97 2.742c.214.213.424.427.65.626a9.45 9.45 0 0 0 3.84 2.046l.568.087c.185.01.37-.004.556-.013a2 2 0 0 0 .833-.231a5 5 0 0 0 .383-.22q.001.002.125-.09c.135-.1.218-.171.33-.288q.126-.13.21-.302c.078-.163.156-.474.188-.733c.024-.198.017-.306.014-.373c-.004-.107-.093-.218-.19-.265l-.582-.261s-.87-.379-1.402-.621a.5.5 0 0 0-.176-.041a.48.48 0 0 0-.378.127c-.005-.002-.072.055-.795.931a.35.35 0 0 1-.368.13a1.4 1.4 0 0 1-.191-.066c-.124-.052-.167-.072-.252-.108a6 6 0 0 1-1.575-1.003c-.126-.11-.243-.23-.363-.346a6.3 6.3 0 0 1-1.02-1.268l-.059-.095a1 1 0 0 1-.102-.205c-.038-.147.061-.265.061-.265s.243-.266.356-.41c.11-.14.203-.276.263-.373c.118-.19.155-.385.093-.536q-.42-1.026-.868-2.041c-.059-.134-.234-.23-.393-.249q-.081-.01-.162-.016a3 3 0 0 0-.403.004z" fill=currentColor /></symbol><use href=#ai:ri:whatsapp-fill></use></svg></button> <button class=ml-2 data-aw-social-share=mail data-aw-url=https://michaeltoohig.com/blog/migrating-to-astro title="Email Share" data-aw-text="Migrating to Astro"><svg class="h-6 w-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon=ri:mail-fill height=1em width=1em><symbol id=ai:ri:mail-fill viewBox="0 0 24 24"><path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1m9.06 8.683L5.648 6.238L4.353 7.762l7.72 6.555l7.581-6.56l-1.308-1.513z" fill=currentColor /></symbol><use href=#ai:ri:mail-fill></use></svg></button></div></div></article></section><div class="mx-auto sm:px-6 max-w-3xl px-6 md:pb-20 md:pt-4 pb-12 pt-8"><a href=/blog class="btn btn-ghost md:px-3 px-3"><svg class="h-5 w-5 -ml-1.5 mr-1" data-icon=ph:arrow-fat-left height=1em width=1em><symbol id=ai:ph:arrow-fat-left viewBox="0 0 256 256"><path d="M208 72h-80V32a8 8 0 0 0-13.66-5.66l-96 96a8 8 0 0 0 0 11.32l96 96A8 8 0 0 0 128 224v-40h80a16 16 0 0 0 16-16V88a16 16 0 0 0-16-16m0 96h-88a8 8 0 0 0-8 8v28.69L35.31 128L112 51.31V80a8 8 0 0 0 8 8h88Z" fill=currentColor /></symbol><use href=#ai:ph:arrow-fat-left></use></svg> Back to Blog</a></div></main><footer class="relative border-gray-200 border-t dark:border-slate-800"><div class="dark:bg-dark absolute inset-0 pointer-events-none" aria-hidden=true></div><div class="mx-auto sm:px-6 px-4 dark:text-slate-300 max-w-7xl relative"><div class="py-8 gap-4 gap-y-8 grid grid-cols-12 md:py-12 sm:gap-8"><div class="col-span-12 lg:col-span-4"><div class=mb-2><a href=/ class="font-bold inline-block text-xl">Michael Toohig</a></div></div></div><div class="md:flex md:justify-between md:items-center md:py-8 py-6"><ul class="flex md:mb-0 -ml-2 mb-4 md:ml-4 md:order-1"><li><a href=/rss.xml class="items-center dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex p-2.5 rounded-lg text-sm dark:hover:bg-gray-700 text-muted" aria-label=RSS><svg class="h-5 w-5" data-icon=ph:rss height=1em width=1em><symbol id=ai:ph:rss viewBox="0 0 256 256"><path d="M106.91 149.09A71.53 71.53 0 0 1 128 200a8 8 0 0 1-16 0a56 56 0 0 0-56-56a8 8 0 0 1 0-16a71.53 71.53 0 0 1 50.91 21.09M56 80a8 8 0 0 0 0 16a104 104 0 0 1 104 104a8 8 0 0 0 16 0A120 120 0 0 0 56 80m118.79 1.21A166.9 166.9 0 0 0 56 32a8 8 0 0 0 0 16a151 151 0 0 1 107.48 44.52A151 151 0 0 1 208 200a8 8 0 0 0 16 0a166.9 166.9 0 0 0-49.21-118.79M60 184a12 12 0 1 0 12 12a12 12 0 0 0-12-12" fill=currentColor /></symbol><use href=#ai:ph:rss></use></svg></a></li><li><a href=https://github.com/michaeltoohig class="items-center dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex p-2.5 rounded-lg text-sm dark:hover:bg-gray-700 text-muted" aria-label=Github><svg class="h-5 w-5" data-icon=ph:github-logo height=1em width=1em><symbol id=ai:ph:github-logo viewBox="0 0 256 256"><path d="M208.31 75.68A59.78 59.78 0 0 0 202.93 28a8 8 0 0 0-6.93-4a59.75 59.75 0 0 0-48 24h-24a59.75 59.75 0 0 0-48-24a8 8 0 0 0-6.93 4a59.78 59.78 0 0 0-5.38 47.68A58.14 58.14 0 0 0 56 104v8a56.06 56.06 0 0 0 48.44 55.47A39.8 39.8 0 0 0 96 192v8H72a24 24 0 0 1-24-24a40 40 0 0 0-40-40a8 8 0 0 0 0 16a24 24 0 0 1 24 24a40 40 0 0 0 40 40h24v16a8 8 0 0 0 16 0v-40a24 24 0 0 1 48 0v40a8 8 0 0 0 16 0v-40a39.8 39.8 0 0 0-8.44-24.53A56.06 56.06 0 0 0 216 112v-8a58.14 58.14 0 0 0-7.69-28.32M200 112a40 40 0 0 1-40 40h-48a40 40 0 0 1-40-40v-8a41.74 41.74 0 0 1 6.9-22.48a8 8 0 0 0 1.1-7.69a43.8 43.8 0 0 1 .79-33.58a43.88 43.88 0 0 1 32.32 20.06a8 8 0 0 0 6.71 3.69h32.35a8 8 0 0 0 6.74-3.69a43.87 43.87 0 0 1 32.32-20.06a43.8 43.8 0 0 1 .77 33.58a8.09 8.09 0 0 0 1 7.65a41.7 41.7 0 0 1 7 22.52Z" fill=currentColor /></symbol><use href=#ai:ph:github-logo></use></svg></a></li></ul><div class="mr-4 dark:text-slate-400 text-sm">Made in Vanuatu 🇻🇺 · All rights reserved.</div></div></div></footer><script>!function(){const e="system";function t(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function o(e,t,o){const n="string"==typeof e?document.querySelectorAll(e):e;n&&n.length&&n.forEach((e=>{e.addEventListener(t,(t=>o(t,e)),!1)}))}e&&e.endsWith(":only")||(localStorage.theme,0)?t(e.replace(":only","")):"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):t("light"),window.onload=function(){let t=window.scrollY,n=!0;function a(){const e=document.getElementById("header");t>60&&!e.classList.contains("scroll")?document.getElementById("header").classList.add("scroll"):t<=60&&e.classList.contains("scroll")&&document.getElementById("header").classList.remove("scroll"),n=!1}o("[data-aw-toggle-menu]","click",(function(e,t){t.classList.toggle("expanded"),document.body.classList.toggle("overflow-hidden"),document.getElementById("header")?.classList.toggle("h-screen"),document.querySelector("#header nav")?.classList.toggle("hidden")})),o("[data-aw-toggle-color-scheme]","click",(function(){e.endsWith(":only")||(document.documentElement.classList.toggle("dark"),localStorage.theme=document.documentElement.classList.contains("dark")?"dark":"light")})),o("[data-aw-social-share]","click",(function(e,t){const o=t.getAttribute("data-aw-social-share"),n=encodeURIComponent(t.getAttribute("data-aw-url")),a=encodeURIComponent(t.getAttribute("data-aw-text"));let c;switch(o){case"facebook":c=`https://www.facebook.com/sharer.php?u=${n}`;break;case"twitter":c=`https://twitter.com/intent/tweet?url=${n}&text=${a}`;break;case"linkedin":c=`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${a}`;break;case"whatsapp":c=`https://wa.me/?text=${a}%20${n}`;break;case"mail":c=`mailto:?subject=%22${a}%22&body=${a}%20${n}`;break;default:return}const s=document.createElement("a");s.target="_blank",s.href=c,s.click()})),a(),o([document],"scroll",(function(){t=window.scrollY,n||(window.requestAnimationFrame((()=>{a()})),n=!0)}))},window.onpageshow=function(){document.documentElement.classList.add("motion-safe:scroll-smooth");const e=document.querySelector("[data-aw-toggle-menu]");e&&e.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.querySelector("#header nav")?.classList.add("hidden")}}()</script></body></html>